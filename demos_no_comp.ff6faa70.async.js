(self["webpackChunkor_so"]=self["webpackChunkor_so"]||[]).push([[50],{30671:function(e){e.exports={selcetStyle:"selcetStyle___1eFP0",defaultSelectStyle:"defaultSelectStyle___1wX0S"}},48737:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return G}});var r=a(67294),l=a(14165),n=(0,r.createContext)(null),o=e=>{var t=e.children,a=e.initState,o=void 0===a?{}:a,i=Object.assign({},{graph:null},o.ref),s=(0,r.useRef)(i),c=Object.assign({},{zoom:1,isEdit:!1},o.state),d=(0,r.useRef)(c),u=(0,r.useRef)(l.Z);return r.createElement(n.Provider,{value:{ref:s,state:d,bus:u}},t)},i=o,s=a(41277),c=a.n(s),d=(e,t)=>{var a=new(c().Minimap)({container:e.current,size:[150,100]}),r=t.current.getBoundingClientRect().width||500,l=t.current.getBoundingClientRect().height||500,n=new(c().Graph)({container:t.current,width:r,height:l,maxZoom:1,modes:{default:["drag-canvas","activate-relations"]},layout:{type:"dagre",controlPoints:!0,ranksep:40,nodesep:50},defaultNode:{size:20},defaultEdge:{type:"editLine",style:{endArrow:{path:"M 0,0 L 6,-4 L 6,4 Z"},fill:"#666",stroke:"#333",lineWidth:2}},plugins:[a]});return n.data({nodes:[{id:"1",isDelete:"not",nodeType:"begin",label:"\u5f00\u59cb"},{id:"2",isDelete:"not",nodeType:"end",label:"\u7ed3\u675f"}],edges:[{source:"1",target:"2",label:"222",type:"editLine"}]}),n.render(),n.fitView(0),n},u=a(96528),m=a.n(u),g=180,p=50;function v(e){c().registerEdge("editLine",{draw(t,a){var r=t.startPoint||{x:0,y:0},l=t.endPoint||{x:0,y:0},n=a.addShape("path",{attrs:{stroke:"#333",fill:"#666",lineWidth:2,endArrow:{path:"M 0,0 L 6,-4 L 6,4 Z",fill:"#666"},path:[["M",null===r||void 0===r?void 0:r.x,null===r||void 0===r?void 0:r.y],["L",null===l||void 0===l?void 0:l.x,null===l||void 0===l?void 0:l.y]]},name:"path-shape"});if(!e.isEdit){var o=t.label;if(o){var i=new(m().Text)({attrs:{x:0,y:0,text:o}}).getBBox(),s=i.width;a.addShape("rect",{attrs:{x:(r.x+l.x)/2-s/2,y:(r.y+l.y)/2-10,width:s,height:20,fill:"#eee",stroke:"#fff"}}),a.addShape("text",{attrs:{x:(r.x+l.x)/2,y:(r.y+l.y)/2,text:o||"",textAlign:"center",textBaseline:"middle",fill:"red",stroke:"#fff"}})}return n}return a.addShape("circle",{attrs:{x:(r.x+l.x)/2,y:(r.y+l.y)/2,r:10,stroke:"#52C41A",fill:"#fff",lineDash:[4],cursor:"pointer"},className:"addNode"}),a.addShape("text",{attrs:{x:(r.x+l.x)/2,y:(r.y+l.y)/2,textAlign:"center",textBaseline:"middle",fill:"#52C41A",fontSize:14,text:"+",cursor:"pointer"},className:"addNode"}),n},afterDraw(e,t){}})}function h(e){c().registerNode("baseNode",{draw(e,t){var a=e.label,r=t.addShape("rect",{attrs:{x:-g/2,y:0,width:g,height:p,fill:"#fff",stroke:"blue",radius:4,anchorPoints:[[0,1],[.5,1]]}});return t.addShape("text",{attrs:{x:0,y:p/2,text:a,fill:"#000",textAlign:"center",textBaseline:"middle"}}),r},getAnchorPoints(){return[[.5,0],[.5,1]]}})}var f=e=>{v(e),h(e)},b=f,y=(a(42346),a(49194)),E=(a(89068),a(42091)),Z=a(44742),x=()=>{var e=(0,r.useContext)(n),t=e.ref.current,a=e.state.current,l=(0,r.useState)(a.isEdit),o=(0,Z.Z)(l,2),i=o[0],s=o[1],c=e=>{s(e.target.checked),a.isEdit=e.target.checked,t.graph.refresh()};return r.createElement("div",null,r.createElement(E.Z,{onChange:c,checked:i,defaultChecked:!1},"\u662f\u5426\u7f16\u8f91"),r.createElement(y.Z,{type:"vertical"}))},w=x,k=(a(59320),a(14513)),F=a(56361),C=(a(36391),a(43506)),S=(a(63014),a(32912)),N=(a(70520),a(53986)),I=e=>{var t=e.title,a=e.visible,l=e.onClose,n=e.children,o=e.onFinish;return r.createElement(S.Z,{title:t,visible:a,width:500,onClose:l,footer:r.createElement("div",{style:{textAlign:"left"}},r.createElement(N.Z,{onClick:l,style:{marginRight:8}},"\u53d6\u6d88"),r.createElement(N.Z,{onClick:o,type:"primary"},"\u786e\u5b9a"))},n)},P=I,B=()=>{var e=(0,r.useContext)(n),t=e.ref.current,a=e.state.current,l=C.Z.useForm(),o=(0,Z.Z)(l,1),i=o[0],s=(0,r.useState)({visible:!1,title:"editNode"}),c=(0,Z.Z)(s,2),d=c[0],u=c[1],m=(0,r.useState)({}),g=(0,Z.Z)(m,2),p=g[0],v=g[1],h=()=>{t.graph.on("node:click",(e=>{var t=e.item;a.isEdit||(v(t),u({visible:!0,title:"editNode"}),i.setFieldsValue({label:t.getModel().label}))})),t.graph.on("edge:click",(e=>{var t=e.item,r=e.target,l=r.cfg,n=void 0===l?{}:l;"addNode"===n.className||a.isEdit||(u({visible:!0,title:"editEdge"}),v(t),i.setFieldsValue({label:t.getModel().label}))}))};(0,r.useEffect)((()=>{h()}),[]);var f=()=>{i.validateFields().then((e=>{t.graph.updateItem(p,{label:e.label}),u((0,F.Z)((0,F.Z)({},d),{},{visible:!1}))})).catch((e=>{throw new Error(e)}))},b=()=>{i.resetFields(),u((0,F.Z)((0,F.Z)({},d),{},{visible:!1}))};return r.createElement(P,{title:M[d.title],visible:d.visible,onClose:b,onFinish:f},r.createElement(C.Z,{form:i,initialValues:{label:""}},r.createElement(C.Z.Item,{label:"Label",shouldUpdate:!0,name:"label"},r.createElement(k.Z,null))))},A=B,D=(a(37547),a(85112)),L=()=>{var e=(0,r.useContext)(n),t=e.ref.current,a=e.state.current,l=(0,r.useState)(!1),o=(0,Z.Z)(l,2),i=o[0],s=o[1],c=(0,r.useState)({}),d=(0,Z.Z)(c,2),u=d[0],m=d[1],g=(0,r.useState)({}),p=(0,Z.Z)(g,2),v=p[0],h=p[1];(0,r.useEffect)((()=>{t.graph.on("click",(()=>{s(!1)})),t.graph.on("node:contextmenu",(e=>{e.originalEvent.preventDefault();var r=e.item,l=r.getModel();if(!l.isDelete&&a.isEdit){var n=r.getBBox(),o=n.maxX,i=n.maxY;console.log(n,"pointBBox");var c=t.graph.getCanvasByPoint(o,i);m(c),s(!0),h(r)}})),t.graph.on("node:click",(e=>{e.originalEvent.preventDefault();var t=e.item,a=e.target,r=a.cfg,l=void 0===r?{}:r;"deleteNode"===l.name&&f(t)}))}),[]);var f=e=>{t.graph.setAutoPaint(!1);var a=e.getInEdges()[0].getModel(),r=e.getOutEdges()[0].getModel().target;t.graph.addItem("edge",{shape:"editLine",label:a.label,source:a.source,target:r}),e.getEdges().forEach((e=>{t.graph.removeItem(e)})),t.graph.removeItem(e),t.graph.setAutoPaint(!0),s(!1),t.graph.changeData(t.graph.save())},b=e=>{e._;var t=e.key;switch(t){case"delete":f(v);case"copy":default:}};return r.createElement(r.Fragment,null,i&&r.createElement(D.Z,{style:{width:100,position:"absolute",boxShadow:"0 1px 2px -2px rgba(0,0,0,.16), 0 3px 6px 0 rgba(0,0,0,.12), 0 5px 12px 4px rgba(0,0,0,.09)",left:u.x,top:u.y},mode:"vertical",onSelect:b},r.createElement(D.Z.Item,{key:"delete"},"\u5220\u9664")))},R=L,V=(a(33187),a(16385)),z=()=>{var e=(0,r.useContext)(n),t=e.ref.current,a=C.Z.useForm(),l=(0,Z.Z)(a,1),o=l[0],i=(0,r.useState)({visible:!1,title:"addNode"}),s=(0,Z.Z)(i,2),c=s[0],d=s[1],u=(0,r.useState)({}),m=(0,Z.Z)(u,2),g=m[0],p=m[1],v=()=>{t.graph.on("edge:click",(e=>{var t=e.item,a=e.target,r=void 0===a?{}:a,l=r.cfg,n=void 0===l?{}:l;"addNode"===n.className&&(p(t),d({title:"addNode",visible:!0}))}))};(0,r.useEffect)((()=>{v()}),[]);var h=()=>{o.validateFields().then((e=>{var a=String((new Date).getTime());t.graph.setAutoPaint(!1),t.graph.addItem("node",{type:e.type,label:e.label,id:a}),t.graph.addItem("edge",{shape:"editLine",source:g.getSource().getModel().id,label:g.getModel().label,target:a}),t.graph.addItem("edge",{shape:"editLine",source:a,target:g.getTarget().getModel().id}),t.graph.removeItem(g),t.graph.setAutoPaint(!0),t.graph.changeData(t.graph.save()),d((0,F.Z)((0,F.Z)({},c),{},{visible:!1})),o.resetFields()})).catch((e=>{throw new Error(e)}))},f=()=>{o.resetFields(),d((0,F.Z)((0,F.Z)({},c),{},{visible:!1}))};return r.createElement(P,{title:M[c.title],visible:c.visible,onClose:f,onFinish:h},r.createElement(C.Z,{form:o,initialValues:{label:"",type:"baseNode"}},r.createElement(C.Z.Item,{label:"Label",shouldUpdate:!0,name:"label"},r.createElement(k.Z,null)),r.createElement(C.Z.Item,{label:"Type",shouldUpdate:!0,name:"type"},r.createElement(V.Z,null,r.createElement(V.Z.Option,{value:"baseNode"},"\u77e9\u578b"),r.createElement(V.Z.Option,{value:"circle"},"\u5706\u5f62"),r.createElement(V.Z.Option,{value:"diamond"},"\u83f1\u5f62")))))},K=z,M={editNode:"\u4fee\u6539\u8282\u70b9\u4fe1\u606f",editEdge:"\u4fee\u6539\u7ebf\u6761\u4fe1\u606f",addNode:"\u6dfb\u52a0\u8282\u70b9"},O=()=>{var e=(0,r.useContext)(n),t=e.ref.current,a=e.state.current,l=e.bus.current,o=(0,r.useRef)(null),i=(0,r.useRef)(null);return(0,r.useLayoutEffect)((()=>(t.graph?t.graph.destroy():t.graph=d(o,i),()=>{t.graph.destroy(),t.graph=null,a.isEdit=!1})),[]),(0,r.useEffect)((()=>{b(a)}),[]),(0,r.useEffect)((()=>{var e=()=>console.log(111);return l.addEventListener("show",e),()=>{l.removeEventListener("show",e)}}),[]),r.createElement("div",null,r.createElement(w,null),r.createElement("div",{style:{position:"relative"},ref:o},r.createElement("div",{ref:i}),r.createElement(R,null)),r.createElement(A,null),r.createElement(K,null))},q=r.memo(O),T=()=>r.createElement(i,null,r.createElement(q,null)),G=T},77791:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return L}});var r=a(13378),l=(a(59320),a(14513)),n=(a(70520),a(53986)),o=a(56361),i=a(44742),s=(a(62325),a(75745)),c=(a(36391),a(43506)),d=(a(7826),a(70353)),u=a(67294),m=a(54549),g=a(17461),p=[{id:1209,teamName:"test",enble:1,authGroupId:1996,type:"fild",value:111,optionter:"in"},{id:1208,teamName:"test",enble:1,authGroupId:1996,type:"fild",value:111,optionter:"in"},{id:3056,teamName:"test",enble:0,authGroupId:2030,type:"fild",value:111,optionter:"in"},{id:30526,teamName:"test",enble:0,authGroupId:2030,type:"fild",value:111,optionter:"in"},{id:30256,teamName:"test",enble:0,authGroupId:20230,type:"fild",value:111,optionter:"in"}],v={id:"1119",dataId:"123wqeeq",enble:1},h={},f=[];p.forEach((e=>{h[e.authGroupId]?f.forEach((t=>{t.id===e.authGroupId&&t.ruleItems.push((0,o.Z)({},e))})):(h[e.authGroupId]=e.authGroupId,f.push({authGroupId:v.id,id:e.authGroupId,ruleItems:[e]}))}));v.id,v.dataId,v.enble;var b=[{class:"class1",teamName:"class1-team1",teamPosition:"aaaaa",id:"vRZSjfDDDBndTeGx",teams:[{axis:[{row:"one",column:"80"},{row:"two",column:"12200"},{column:"12222"}],teamPosition:"test1"},{axis:[{row:"one",column:"80"},{row:"two",column:"12200"}],teamPosition:"test2"},{axis:[{row:"one",column:"80"},{row:"two",column:"12200"}],teamPosition:"test3"}]},{class:"class2",teamName:"class2-team1",teamPosition:"bbbbb",id:"4XuIiPRjKMQFpI53",teams:[{axis:[{row:"one",column:"80"},{row:"two",column:"12200"},{column:"12222"}],teamPosition:"bbb1"},{axis:[{row:"one",column:"80"},{row:"two",column:"12200"}],teamPosition:"bbb2"},{axis:[{row:"one",column:"80"},{row:"two",column:"12200"}],teamPosition:"bbb3"}]},{class:"calss3",teamName:"calss3-team1",teamPosition:"ccccc",id:"3o3ZCXdLaEXChDl8",teams:[{axis:[{row:"one",column:"80"},{row:"two",column:"12200"},{column:"12222"}],teamPosition:"ccc1"},{axis:[{row:"one",column:"80"},{row:"two",column:"12200"}],teamPosition:"ccc2"},{axis:[{row:"one",column:"80"},{row:"two",column:"12200"}],teamPosition:"ccc3"}]}],y=(a(31808),a(87555)),E=(a(33187),a(16385)),Z=a(73171),x=c.Z.Item,w=c.Z.List,k=s.Z.Panel,F={labelCol:{span:2},wrapperCol:{span:14}},C={labelCol:{span:4},wrapperCol:{span:16}},S=e=>{var t=e.parentIndex,a=e.collapseIndex;return u.createElement(w,(0,r.Z)({},F,{name:[a,"axis"]}),((e,o)=>{var i=o.add,s=o.remove;return u.createElement(u.Fragment,null,e.map((e=>u.createElement(y.Z,{style:{width:"100%"},key:e.key},u.createElement(x,(0,r.Z)({style:{width:"40%"},rules:[{required:!0,message:"\u8bf7\u9009\u62e9"},e=>{var r=e.getFieldValue;return{validator(e,l){if(!l)return Promise.resolve();var n=r(["grades",t,"teams",a,"axis"]).map((e=>e.row)),o=n.findIndex((e=>e===l));n.splice(o,1);var i=Promise.resolve();return n.forEach((e=>{e===l&&(i=Promise.reject("\u6392\u540d\u79f0\u91cd\u590d"))})),i}}}]},C,{label:"\u6392",initialValue:"",fieldKey:[e.fieldKey,"row"],name:[e.name,"row"]}),u.createElement(E.Z,null,u.createElement(E.Z.Option,{value:"one"},"\u7b2c\u4e00\u6392"),u.createElement(E.Z.Option,{value:"two"},"\u7b2c\u4e8c\u6392"),u.createElement(E.Z.Option,{value:"three"},"\u7b2c\u4e09\u6392"))),u.createElement(x,{shouldUpdate:!0,noStyle:!0},(n=>{var o=n.getFieldValue,i="three"===o(["grades",t,"teams",a,"axis",e.name,"row"]);return u.createElement(x,(0,r.Z)({style:{width:"40%"},rules:[{required:!i&&!0,message:"\u8bf7\u586b\u5199"}]},C,{label:"\u5217",fieldKey:[e.fieldKey,"column"],name:[e.name,"column"]}),u.createElement(l.Z,{disabled:i}))})),u.createElement(x,null,u.createElement(Z.Z,{onClick:()=>s(e.name)}))))),u.createElement(n.Z,{type:"dashed",style:{marginTop:8,width:"50%"},onClick:()=>i()},"\u6dfb\u52a0"))}))},N=e=>{var t=e.parentIndex;return u.createElement(w,(0,r.Z)({},F,{name:["grades",t,"teams"]}),((e,a)=>{var o=a.add,i=a.remove;return u.createElement(u.Fragment,null,e.map(((e,a)=>u.createElement(s.Z,{style:{marginBottom:24},defaultActiveKey:["".concat(e.fieldKey)],key:e.fieldKey},u.createElement(k,{forceRender:!0,extra:u.createElement(m.Z,{onClick:()=>i(e.name)}),header:u.createElement(x,(0,r.Z)({style:{marginBottom:0,width:"50%",display:"inline-flex"},rules:[{required:!0,message:"\u8bf7\u586b\u5199\u5c0f\u7ec4\u540d\u79f0"}]},C,{label:"\u5c0f\u7ec4\u540d\u79f0",name:[e.name,"teamName"],fieldKey:[e.fieldKey,"teamName"]}),u.createElement(l.Z,{placeholder:"\u8bf7\u586b\u5199\u5c0f\u7ec4\u540d\u79f0",onClick:e=>e.stopPropagation(),addonBefore:"\u5c0f\u7ec4\u540d\u79f0"})),key:"".concat(e.fieldKey)},u.createElement(x,(0,r.Z)({rules:[{required:!0,message:"\u8bf7\u586b\u5199\u5c0f\u7ec4\u4f4d\u7f6e"}]},F,{label:"\u5c0f\u7ec4\u4f4d\u7f6e",name:[e.name,"teamPosition"],fieldKey:[e.fieldKey,"teamPosition"]}),u.createElement(l.Z,{placeholder:"\u8bf7\u586b\u5199\u5c0f\u7ec4\u4f4d\u7f6e"})),u.createElement(x,(0,r.Z)({style:{position:"absolute"},initialValue:"NONE"},F,{name:[a,"type"]}),u.createElement(l.Z,{hidden:!0})),u.createElement(S,{parentIndex:t,collapseIndex:a}))))),u.createElement(n.Z,{type:"dashed",style:{marginTop:8,width:"100%"},onClick:()=>o({axis:[{}]})},"\u6dfb\u52a0"))}))},I=N,P=d.Z.TabPane,B=c.Z.Item,A=(c.Z.List,s.Z.Panel,[{title:"",teams:[{axis:[{}]}]},{title:"",teams:[{axis:[{}]}]}]),D=()=>{var e=(0,u.useState)({}),t=(0,i.Z)(e,2),a=t[0],s=t[1],p=(0,u.useState)(!1),v=(0,i.Z)(p,2),h=v[0],f=v[1],y=(0,g.Z)(A),E=y.list,Z=y.push,x=y.remove,w=y.getKey,k=y.resetList,F=c.Z.useForm(),C=(0,i.Z)(F,1),S=C[0],N=()=>{S.validateFields().then((e=>{console.log(e,"form");var t=[];e.grades.forEach((e=>{e.teams.filter((e=>e)).forEach((a=>{t.push({class:e.class,teamName:a.teamName,teamPosition:a.teamPosition,teams:{axis:a.axis,type:a.type}})}))}));var a={configKey:"test",param:{grades:t}};s(a),console.log(a,"params")}))};(0,u.useEffect)((()=>{if(h){k(b);var e=[];b.forEach((t=>{var a=[];t.teams.forEach((e=>a.push((0,o.Z)((0,o.Z)({},e),{},{teamName:t.teamName,teamPosition:t.teamPosition})))),console.log(a,"teams"),e.push({class:t.class,teams:a})})),S.setFieldsValue({grades:e})}else S.setFieldsValue({grades:A}),k(A)}),[h]);var D=()=>{Z({title:"",teams:[{axis:[{}]}]});var e=S.getFieldValue("grades");e.push({teams:[{axis:[{}]}]}),S.setFieldsValue({grades:e})},L={labelCol:{span:2},wrapperCol:{span:14}};return u.createElement(u.Fragment,null,u.createElement(n.Z,{style:{marginBottom:8},type:"primary",onClick:()=>f(!h)},"\u5207\u6362",h?"\u65b0\u589e":"\u7f16\u8f91"),u.createElement(c.Z,(0,r.Z)({},L,{labelCol:{span:2},form:S}),u.createElement(d.Z,{type:"editable-card",hideAdd:!0,tabBarExtraContent:u.createElement(n.Z,{onClick:D},"\u6dfb\u52a0")},E.map(((e,t)=>u.createElement(P,{forceRender:!0,key:"".concat(w(t)),closeIcon:u.createElement(m.Z,{onClick:()=>x(t)}),tab:"\u73ed\u7ea7 ".concat(w(t)+1)},u.createElement(B,(0,r.Z)({},L,{label:"\u73ed\u7ea7",name:["grades",w(t),"class"],rules:[{required:!0,message:"\u8bf7\u586b\u5199\u73ed\u7ea7"}]}),u.createElement(l.Z,{placeholder:"\u8bf7\u586b\u5199\u73ed\u7ea7"})),u.createElement(I,{parentIndex:w(t)})))))),u.createElement(n.Z,{type:"primary",style:{marginTop:8,width:"100%"},onClick:N},"\u63d0\u4ea4"),Object.keys(a).length>0&&u.createElement("pre",null,JSON.stringify(a,null,"\t")))},L=D},95492:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});a(70520);var r=a(53986),l=a(67294),n=a(14165),o=null,i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:450;o&&clearTimeout(o),o=setTimeout((()=>{e()}),t)},s=!0,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:450;s&&(s=!1,setTimeout((()=>{e(),s=!0}),t))},d=()=>{var e=1,t=e=>{n.Z.dispatchEvent({type:"myevent1",a:{test:e}})};return l.createElement("div",null,l.createElement("div",{style:{marginBottom:8}},"\u4e8b\u4ef6\u4e00\uff1a",l.createElement(r.Z.Group,null,l.createElement(r.Z,{onClick:()=>i((()=>t(e+=1)),800)},"\u9632\u6296\u89e6\u53d1+"),l.createElement(r.Z,{onClick:()=>c((()=>t(e-=1)),800)},"\u8282\u6d41\u89e6\u53d1-"))),l.createElement("div",null,"\u4e8b\u4ef6\u4e8c\uff1a",l.createElement(r.Z.Group,null,l.createElement(r.Z,{onClick:()=>n.Z.dispatchEvent({type:"myevent2"},!0)},"\u89e6\u53d1\u5b8c\u6210\u540e\u9500\u6bc1"))))},u=d},85897:function(e,t,a){"use strict";a.r(t);a(70520);var r=a(53986),l=a(44742),n=a(67294),o=a(14165),i=()=>{var e,t=n.useState(),a=(0,l.Z)(t,2),i=a[0],s=a[1],c=n.useCallback((e=>s(e)),[]),d=n.useCallback((e=>alert(JSON.stringify(e))),[]);n.useEffect((()=>(o.Z.addEventListener("myevent1",c),o.Z.addEventListener("myevent2",d),()=>{o.Z.removeEventListener("myevent1",c),o.Z.removeEventListener("myevent2",d)})),[]);var u=(e,t)=>{o.Z.removeEventListener(e,t)};return n.createElement("div",null,n.createElement(r.Z,{style:{marginRight:8},onClick:()=>u("myevent1",c)},"\u79fb\u9664\u4e8b\u4ef6\u4e00"),n.createElement(r.Z,{onClick:()=>u("myevent2",d)},"\u79fb\u9664\u4e8b\u4ef6\u4e8c"),n.createElement("div",null,(null===i||void 0===i||null===(e=i.a)||void 0===e?void 0:e.test)||"-"))};t["default"]=i},87553:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});a(70520);for(var r=a(53986),l=(a(41082),a(8961)),n=(a(36391),a(43506)),o=(a(33187),a(16385)),i=(a(47019),a(69984)),s=a(44742),c=a(67294),d=a(35510),u=a.n(d),m=[],g=0;g<9;g++)m.push({port:"800".concat(g),maxReq:g});var p=a(30671),v=a.n(p),h={width:100},f=(0,c.forwardRef)(((e,t)=>{var a=e.list,r=e.changeMaxReq,l=e.portValue,n=e.onChange,d=e.getFieldValue,m=(0,c.useState)(l),g=(0,s.Z)(m,2),p=g[0],f=g[1],b=d("port"),y=(e,t)=>{r(t.key),f(e)};return(0,c.useEffect)((()=>{a.findIndex((e=>e.port===b))<7&&f(l)}),[b]),c.createElement(c.Fragment,null,c.createElement(i.ZP.Group,{onChange:n,value:b,defaultValue:l,ref:t,buttonStyle:"solid"},a.filter(((e,t)=>t<7)).map(((e,t)=>c.createElement(i.ZP.Button,{onClick:()=>r(t),key:e.port,value:e.port},e.port))),c.createElement(o.Z,{onSelect:y,className:u()({[v().selcetStyle]:a.filter(((e,t)=>t>=7)).map((e=>e.port)).includes(b),[v().defaultSelectStyle]:!0}),value:p,style:h,onChange:n},c.createElement(o.Z.Option,{key:0,value:l},"\u9009\u62e9\u7aef\u53e3"),a.filter(((e,t)=>t>=7)).map(((e,t)=>c.createElement(o.Z.Option,{key:t+7,value:e.port},e.port))))))})),b=()=>{var e=(0,c.useState)({}),t=(0,s.Z)(e,2),a=t[0],o=t[1],i=n.Z.useForm(),d=(0,s.Z)(i,1),u=d[0],g=(0,c.useRef)(null),p=e=>{o(e)},v=e=>{u.setFieldsValue({maxReq:m[e].maxReq})};return c.createElement(c.Fragment,null,c.createElement(n.Z,{onFinish:p,initialValues:{port:m[0].port,maxReq:m[0].maxReq},form:u},c.createElement(n.Z.Item,{name:"port",rules:[{required:!0}]},c.createElement(f,{ref:g,getFieldValue:u.getFieldValue,portValue:m[0].port,list:m,changeMaxReq:v})),c.createElement(n.Z.Item,{name:"maxReq"},c.createElement(l.Z,null)),c.createElement(r.Z,{htmlType:"submit"},"\u63d0\u4ea4")),c.createElement("div",null,JSON.stringify(a,null,2)))},y=b},18863:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var r=a(67294),l=a(41277),n=a.n(l),o={nodes:[{id:"0",label:"0",cluster:"0"},{id:"1",label:"1",cluster:"0"},{id:"2",label:"2",cluster:"0"},{id:"3",label:"3",cluster:"0"},{id:"4",label:"4",cluster:"0"},{id:"5",label:"5",cluster:"3"},{id:"6",label:"6",cluster:"0"},{id:"7",label:"7",cluster:"0"},{id:"8",label:"8",cluster:"0"},{id:"9",label:"9",cluster:"3"},{id:"10",label:"10",cluster:"3"},{id:"11",label:"11",cluster:"2"},{id:"12",label:"12",cluster:"2"},{id:"13",label:"13",cluster:"4"},{id:"14",label:"14",cluster:"2"},{id:"15",label:"15",cluster:"2"},{id:"16",label:"16",cluster:"2"},{id:"17",label:"17",cluster:"1"},{id:"18",label:"18",cluster:"4"},{id:"19",label:"19",cluster:"4"},{id:"20",label:"20",cluster:"4"},{id:"21",label:"21",cluster:"0"},{id:"22",label:"22",cluster:"2"},{id:"23",label:"23",cluster:"2"},{id:"24",label:"24",cluster:"2"},{id:"25",label:"25",cluster:"3"},{id:"26",label:"26",cluster:"4"},{id:"27",label:"27",cluster:"4"},{id:"28",label:"28",cluster:"1"},{id:"29",label:"29",cluster:"1"},{id:"30",label:"30",cluster:"4"},{id:"31",label:"31",cluster:"4"},{id:"32",label:"32",cluster:"1"},{id:"33",label:"33",cluster:"2"}],edges:[{source:"0",target:"1"},{source:"0",target:"2"},{source:"0",target:"3"},{source:"0",target:"4"},{source:"0",target:"5"},{source:"0",target:"7"},{source:"0",target:"8"},{source:"0",target:"9"},{source:"0",target:"10"},{source:"0",target:"11"},{source:"0",target:"13"},{source:"0",target:"14"},{source:"0",target:"15"},{source:"0",target:"16"},{source:"2",target:"3"},{source:"4",target:"5"},{source:"4",target:"6"},{source:"5",target:"6"},{source:"7",target:"13"},{source:"8",target:"14"},{source:"9",target:"10"},{source:"10",target:"22"},{source:"10",target:"14"},{source:"10",target:"12"},{source:"10",target:"24"},{source:"10",target:"21"},{source:"10",target:"20"},{source:"11",target:"24"},{source:"11",target:"22"},{source:"11",target:"14"},{source:"12",target:"13"},{source:"16",target:"17"},{source:"16",target:"18"},{source:"16",target:"21"},{source:"16",target:"22"},{source:"17",target:"18"},{source:"17",target:"20"},{source:"18",target:"19"},{source:"19",target:"20"},{source:"19",target:"33"},{source:"19",target:"22"},{source:"19",target:"23"},{source:"20",target:"21"},{source:"21",target:"22"},{source:"22",target:"24"},{source:"22",target:"25"},{source:"22",target:"26"},{source:"22",target:"23"},{source:"22",target:"28"},{source:"22",target:"30"},{source:"22",target:"31"},{source:"22",target:"32"},{source:"22",target:"33"},{source:"23",target:"28"},{source:"23",target:"27"},{source:"23",target:"29"},{source:"23",target:"30"},{source:"23",target:"31"},{source:"23",target:"33"},{source:"32",target:"33"}]},i=["#BDD2FD","#BDEFDB","#C2C8D5","#FBE5A2","#F6C3B7","#B6E3F5","#D3C6EA","#FFD8B8","#AAD8D8","#FFD6E7"],s=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"],c=()=>{var e=(0,r.useRef)(null),t=(0,r.useRef)(null),a=()=>{var a=o.nodes,r=new Map,l=0;a.forEach((function(e){e.cluster&&void 0===r.get(e.cluster)&&(r.set(e.cluster,l),l++);var t=r.get(e.cluster);e.style||(e.style={}),e.style.fill=i[t%i.length],e.style.stroke=s[t%s.length]}));var c=new(n().Minimap)({container:t.current,size:[150,100]}),d=e.current.getBoundingClientRect().width||500,u=e.current.getBoundingClientRect().height||500,m=new(n().Graph)({container:e.current,width:d,height:u,modes:{default:["zoom-canvas","drag-canvas","click-select","activate-relations"]},layout:{type:"dagre",controlPoints:!0,ranksep:20,nodesep:50},defaultNode:{size:20},defaultEdge:{type:"polyline",style:{radius:20,offset:45,endArrow:!0,lineWidth:2,stroke:"#C2C8D5"}},plugins:[c]});m.data(o),m.render()};return(0,r.useEffect)((()=>{a()}),[]),r.createElement(r.Fragment,null,r.createElement("div",{style:{height:500},ref:e}),r.createElement("div",{ref:t}))},d=c},49399:function(e,t,a){"use strict";a.r(t);a(92682);var r=a(37779),l=(a(70520),a(53986)),n=(a(48032),a(38488)),o=a(44742),i=a(67294),s={whiteSpace:"pre-wrap",height:400},c=()=>{var e=(0,i.useState)([]),t=(0,o.Z)(e,2),a=t[0],c=t[1],d=(0,i.useState)([]),u=(0,o.Z)(d,2),m=u[0],g=u[1],p=e=>{console.log(e,"file");var t=[...a],r="application/json"===e.type||"text/plain"===e.type;return r?(t.push(e),c(t),!1):(n.default.error("\u6587\u4ef6\u4e0d\u7b26\u5408\u89c4\u5219"),!1)},v=e=>{var t=e.file,r=t.status;if("removed"===r){var l=a.indexOf(t),n=a.slice();n.splice(l,1),c(n)}},h=e=>{for(var t=[],a=[],r=function(r){t[r]=new Promise((t=>{a[r]=new FileReader,a[r].readAsText(e[r]),a[r].onload=()=>{t(a[r].result)}}))},l=0;l<e.length;l+=1)r(l);Promise.all(t).then((e=>{g(e),c([])}),(e=>{console.log(111)})).catch((e=>{console.log(222)}))},f=()=>{h(a)},b=(e,t)=>{console.log(e,"context");var a=new Blob([e]),r=document.createElement("a");r.href=URL.createObjectURL(a),r.style.display="none",r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)},y=()=>{m.forEach((e=>b(e,"".concat((new Date).getTime(),".json"))))};return i.createElement("div",null,i.createElement(r.Z,{beforeUpload:p,fileList:a,onChange:v},i.createElement(l.Z,null,"\u9009\u62e9\u6587\u4ef6")),i.createElement(l.Z,{onClick:f},"\u63d0\u4ea4"),i.createElement(l.Z,{style:{margin:8},onClick:y},"\u4e0b\u8f7d"),m.map((e=>i.createElement("pre",{style:s},e))))};t["default"]=c},58295:function(e,t,a){"use strict";a.r(t);a(59320);var r=a(14513),l=(a(36391),a(43506)),n=a(44742),o=a(67294),i=()=>{var e=l.Z.useForm(),t=(0,n.Z)(e,1),a=t[0],i=[{name:"id1",label:"xx1",rules:[{required:!0,whitespace:!0,message:"xxxx"}],required:!0,children:o.createElement(r.Z,null)},{name:"id2",label:"xx2",rules:[],required:!1,children:o.createElement(r.Z,null)}];return o.createElement(l.Z,{layout:"vertical",form:a},i.map((e=>o.createElement(l.Z.Item,e))))};t["default"]=i},87855:function(e,t,a){"use strict";a.r(t);a(21885);var r=a(45733),l=(a(70520),a(53986)),n=a(67294),o=a(85692);t["default"]=()=>{var e=(0,o.tT)("init"),t=e.count,a=e.plusCount,i=e.reduceCount;return n.createElement(r.Z,{direction:"vertical"},n.createElement(l.Z,{type:"primary"},t),n.createElement(r.Z,null,n.createElement(l.Z,{onClick:()=>a()},"\u6dfb\u52a0"),n.createElement(l.Z,{onClick:()=>i()},"\u5220\u51cf")))}},37091:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});a(21885);var r=a(45733),l=(a(70520),a(53986)),n=a(44742),o=a(67294),i=a(56361),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,o.useState)(e),a=(0,n.Z)(t,2),r=a[0],l=a[1],s=(0,o.useCallback)((e=>{l((t=>(0,i.Z)((0,i.Z)({},t),"function"===typeof e?e(t):e)))}),[]);return[r,s]},c=s,d=()=>{var e=c({hello:"",count:0}),t=(0,n.Z)(e,2),a=t[0],i=t[1];return o.createElement(o.Fragment,null,o.createElement("pre",null,JSON.stringify(a,null,2)),o.createElement(r.Z,null,o.createElement(l.Z,{onClick:()=>i({hello:"hello"})},"say hello"),o.createElement(l.Z,{onClick:()=>i({world:"world"})},"say word"),o.createElement(l.Z,{onClick:()=>i((e=>({count:e.count+1})))},"count + 1")))}},94355:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return O}});a(21885);var r=a(45733),l=(a(70520),a(53986)),n=a(44742),o=a(21326),i=a(67294),s=a(7347),c=e=>new o.e9.tb({title:"\u6d41\u7a0b\u56fe",target:e,stencilGraphWidth:180,stencilGraphHeight:180,collapsable:!0,groups:[{title:"\u57fa\u7840\u6d41\u7a0b\u56fe",name:"group1"},{title:"\u7cfb\u7edf\u8bbe\u8ba1\u56fe",name:"group2"},{title:"\u6d4b\u8bd5\u8bbe\u8ba1\u56fe",name:"group3"}],layoutOptions:{columns:2,columnWidth:75,rowHeight:55}}),d=c,u=a(56361),m={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},right:{position:"right",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},left:{position:"left",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}}},items:[{id:"top",group:"top"},{id:"right",group:"right"},{id:"bottom",group:"bottom"},{id:"left",group:"left"}]},g=()=>{o.kJ.registerNode("custom-rect",{inherit:"rect",width:66,height:36,attrs:{body:{strokeWidth:1,stroke:"#5F95FF",fill:"#EFF4FF"},text:{fontSize:12,fill:"#262626"}},ports:(0,u.Z)({},m)},!0),o.kJ.registerNode("custom-polygon",{inherit:"polygon",width:66,height:36,attrs:{body:{strokeWidth:1,stroke:"#5F95FF",fill:"#EFF4FF"},text:{fontSize:12,fill:"#262626"}},ports:(0,u.Z)((0,u.Z)({},m),{},{items:[{group:"top"},{group:"bottom"}]})},!0),o.kJ.registerNode("custom-circle",{inherit:"circle",width:45,height:45,attrs:{body:{strokeWidth:1,stroke:"#5F95FF",fill:"#EFF4FF"},text:{fontSize:12,fill:"#262626"}},ports:(0,u.Z)({},m)},!0),o.kJ.registerNode("custom-image",{inherit:"rect",width:52,height:52,markup:[{tagName:"rect",selector:"body"},{tagName:"image"},{tagName:"text",selector:"label"}],attrs:{body:{stroke:"#5F95FF",fill:"#5F95FF"},image:{width:26,height:26,refX:13,refY:16},label:{refX:3,refY:2,textAnchor:"left",textVerticalAnchor:"top",fontSize:12,fill:"#fff"}},ports:(0,u.Z)({},m)},!0)},p=g,v=a(14165),h={name:"button",args:{markup:[{className:"button-visibility",tagName:"circle",selector:"button",attrs:{r:7,stroke:"#fe854f",strokeWidth:2,fill:"white",cursor:"pointer"},style:{visibility:"hidden"}},{className:"button-visibility",tagName:"text",textContent:"+",selector:"icon",attrs:{fill:"#fe854f",fontSize:10,textAnchor:"middle",pointerEvents:"none",y:"0.3em"},style:{visibility:"hidden"}}],distance:"50%",offset:{x:0,y:0},onClick(e){v.Z.dispatchEvent({type:"config",data:{visible:!0,data:e}})}}},f={name:"button-remove",args:{markup:[{className:"button-visibility",attrs:{cursor:"pointer"},style:{visibility:"hidden"}},{className:"button-visibility",attrs:{cursor:"pointer"},style:{visibility:"hidden"}}],distance:"80%",offset:{x:0,y:0},onClick(e){e.view.graph.removeEdge(e.view.cell)}}},b=()=>new o.bn.kS({tools:[h,f]}),y=()=>{o.kJ.registerEdge("custom-edge",{inherit:"edge",tools:[h,f]})},E=b,Z=[{label:"Client",image:"https://gw.alipayobjects.com/zos/bmw-prod/687b6cb9-4b97-42a6-96d0-34b3099133ac.svg"},{label:"Http",image:"https://gw.alipayobjects.com/zos/bmw-prod/dc1ced06-417d-466f-927b-b4a4d3265791.svg"},{label:"Api",image:"https://gw.alipayobjects.com/zos/bmw-prod/c55d7ae1-8d20-4585-bd8f-ca23653a4489.svg"},{label:"Sql",image:"https://gw.alipayobjects.com/zos/bmw-prod/6eb71764-18ed-4149-b868-53ad1542c405.svg"},{label:"Clound",image:"https://gw.alipayobjects.com/zos/bmw-prod/c36fe7cb-dc24-4854-aeb5-88d8dc36d52e.svg"},{label:"Mq",image:"https://gw.alipayobjects.com/zos/bmw-prod/2010ac9f-40e7-49d4-8c4a-4fcf2f83033b.svg"}],x=e=>{p(),y();var t=e.createNode({shape:"custom-rect",attrs:{body:{rx:20,ry:26},label:{text:"\u8fc7\u7a0b"}}}),a=e.createNode({shape:"custom-rect",attrs:{label:{text:"\u8fc7\u7a0b"}}}),r=e.createNode({shape:"custom-rect",attrs:{body:{rx:6,ry:6},label:{text:"\u53ef\u9009\u8fc7\u7a0b"}}}),l=e.createNode({shape:"custom-polygon",attrs:{body:{refPoints:"0,10 10,0 20,10 10,20"},label:{text:"\u51b3\u7b56"}}}),n=e.createNode({shape:"custom-polygon",attrs:{body:{refPoints:"10,0 40,0 30,20 0,20"},label:{text:"\u6570\u636e"}}}),o=e.createNode({shape:"custom-circle",attrs:{label:{text:"\u8fde\u63a5"}}}),i=Z.map((t=>e.createNode({shape:"custom-image",attrs:{image:{"xlink:href":t.image},label:{text:t.label}}}))),s=Array(6).fill(0).map(((t,a)=>e.createNode({shape:"custom-rect",label:a+1})));return{group1:[t,a,r,l,n,o],group2:i,group3:s}},w=x,k=e=>{e.bindKey(["meta+c","ctrl+c"],(()=>{var t=e.getSelectedCells();return t.length&&e.copy(t),!1})),e.bindKey(["meta+x","ctrl+x"],(()=>{var t=e.getSelectedCells();return t.length&&e.cut(t),!1})),e.bindKey(["meta+v","ctrl+v"],(()=>{if(!e.isClipboardEmpty()){var t=e.paste({offset:32});e.cleanSelection(),e.select(t)}return!1})),e.bindKey(["meta+z","ctrl+z"],(()=>(e.history.canUndo()&&e.history.undo(),!1))),e.bindKey(["meta+shift+z","ctrl+shift+z"],(()=>(e.history.canRedo()&&e.history.redo(),!1))),e.bindKey(["meta+a","ctrl+a"],(()=>{var t=e.getNodes();t&&e.select(t)})),e.bindKey("backspace",(()=>{var t=e.getSelectedCells();t.length&&e.removeCells(t)})),e.bindKey(["ctrl+1","meta+1"],(()=>{var t=e.zoom();t<1.5&&e.zoom(.1)})),e.bindKey(["ctrl+2","meta+2"],(()=>{var t=e.zoom();t>.5&&e.zoom(-.1)}))},F=k,C=(e,t)=>{for(var a=0,r=e.length;a<r;a+=1)e[a].style.visibility=t?"visible":"hidden"},S=e=>{e.on("node:mouseenter",(()=>{var e=document.getElementById("graph-container"),t=e.querySelectorAll(".x6-port-body");C(t,!0)})),e.on("node:click",(e=>{console.log(e,"e"),v.Z.dispatchEvent({type:"config",data:{visible:!0,data:e}})})),e.on("edge:mouseenter",(()=>{var e=document.getElementById("graph-container"),t=e.querySelectorAll(".button-visibility");C(t,!0)})),e.on("edge:mouseleave",(()=>{var e=document.getElementById("graph-container"),t=e.querySelectorAll(".button-visibility");C(t,!1)})),e.on("node:mouseenter",(e=>{var t=e.node;t.addTools({name:"button-remove",args:{x:0,y:0,offset:{x:10,y:10}}})})),e.on("node:mouseleave",(e=>{var t=e.node;t.removeTools()})),e.on("node:mouseleave",(()=>{var e=document.getElementById("graph-container"),t=e.querySelectorAll(".x6-port-body");C(t,!1)}))},N=S,I=(a(63014),a(32912)),P=(a(33187),a(16385)),B=(a(59320),a(14513)),A=a(68699),D=(a(36391),a(43506)),L=a(94043),R=a.n(L),V={"custom-rect":"\u8fc7\u7a0b","custom-circle":"\u94fe\u63a5"},z=e=>{var t=e.config,a=e.graph,s=D.Z.useForm(),c=(0,n.Z)(s,1),d=c[0],u=function(){var e=(0,A.Z)(R().mark((function e(){var r,l,n,i,s,c,u,p,v;return R().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d.validateFields();case 2:r=e.sent,l=t.data.view,l instanceof o.DK&&l.cell.setAttrs({label:{text:r.label}}),l instanceof o.UQ&&(u=null===(n=l.sourceView)||void 0===n?void 0:n.cell.getBBox(),p=null===(i=l.targetView)||void 0===i?void 0:i.cell.getBBox(),v=a.addNode({shape:r.type,x:null===u||void 0===u?void 0:u.x,y:((null===u||void 0===u?void 0:u.y)+(null===p||void 0===p?void 0:p.y))/2,attrs:{label:{text:V[r.type]},ports:m}}),l.graph.addEdge({source:{cell:null===(s=l.sourceView)||void 0===s?void 0:s.cell,port:"bottom"},target:{cell:v,port:"top"},shape:"custom-edge"}),l.graph.addEdge({source:{cell:v,port:"bottom"},target:{cell:null===(c=l.targetView)||void 0===c?void 0:c.cell,port:"top"},shape:"custom-edge"}),l.graph.removeEdge(l.cell)),g();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=()=>{d.resetFields(),v.Z.dispatchEvent({type:"config",data:{visible:!1,data:{}}})};return(0,i.useEffect)((()=>{var e,a,r,l,n="";t.data.view instanceof o.DK&&(n=null===(e=t.data)||void 0===e||null===(a=e.view.cell)||void 0===a||null===(r=a.attrs)||void 0===r||null===(l=r.label)||void 0===l?void 0:l.text);d.setFieldsValue({label:n})}),[t.data]),i.createElement(I.Z,{title:"test",width:500,visible:t.visible,closable:!1,footer:i.createElement(r.Z,null,i.createElement(l.Z,{type:"primary",onClick:u},"\u786e\u5b9a"),i.createElement(l.Z,{onClick:g},"\u53d6\u6d88")),onClose:g},i.createElement(D.Z,{form:d,initialValues:{label:""}},t.data.view instanceof o.DK?i.createElement(i.Fragment,null,i.createElement(D.Z.Item,{label:"Label",shouldUpdate:!0,name:"label"},i.createElement(B.Z,null))):i.createElement(i.Fragment,null,i.createElement(D.Z.Item,{initialValue:"custom-rect",label:"\u56fe\u5f62",shouldUpdate:!0,name:"type"},i.createElement(P.Z,null,i.createElement(P.Z.Option,{value:"custom-rect"},"\u8fc7\u7a0b"),i.createElement(P.Z.Option,{value:"custom-circle"},"\u94fe\u63a5"))))))},K=z,M=()=>{var e=(0,i.useRef)({graph:{}}),t=(0,i.useState)({visible:!1,data:{}}),a=(0,n.Z)(t,2),c=a[0],u=a[1],m=e=>u(e.data);(0,i.useEffect)((()=>{v.Z.addEventListener("config",m)}),[]);var g=()=>{var t=new o.kJ({container:document.getElementById("graph-container"),grid:!0,mousewheel:{enabled:!0,zoomAtMousePosition:!0,modifiers:"ctrl",minScale:.5,maxScale:3},scroller:{enabled:!0},minimap:{enabled:!0,container:document.getElementById("minimap"),scalable:!1,graphOptions:{async:!0,connecting:{router:"manhattan",connector:{name:"rounded",args:{radius:8}}}}},connecting:{router:"manhattan",connector:{name:"rounded",args:{radius:8}},anchor:"center",connectionPoint:"anchor",allowBlank:!1,snap:{radius:20},createEdge:E,validateConnection(e){var t=e.targetMagnet;return!!t}},highlighting:{magnetAdsorbed:{name:"stroke",args:{attrs:{fill:"#5F95FF",stroke:"#5F95FF"}}}},resizing:!0,rotating:!0,selecting:{enabled:!0,rubberband:!0,showNodeSelectionBox:!0},snapline:!0,keyboard:!0,clipboard:!0}),a=d(t);document.getElementById("stencil").appendChild(a.container),N(t),F(t);var r=w(t);Object.entries(r).forEach((e=>{a.load(e[1],e[0])})),e.current&&(e.current.graph=t)};(0,i.useEffect)((()=>{g()}),[]);var p=()=>{var t=new s.Vq({type:"dagre",rankdir:"TB",ranksep:40,nodesep:50,controlPoints:!0}),a={nodes:e.current.graph.toJSON().cells.filter((e=>!Reflect.has(e,"source"))),edges:e.current.graph.toJSON().cells.filter((e=>Reflect.has(e,"source")))},r=t.layout(a);e.current.graph.fromJSON(r)};return i.createElement("div",null,i.createElement(r.Z,{style:{padding:"8px 0"}},i.createElement(l.Z,{onClick:p},"\u5e03\u5c40")),i.createElement("div",{style:{height:500},id:"container"},i.createElement("div",{id:"stencil"}),i.createElement("div",{id:"graph-container"}),i.createElement("div",{id:"minimap"}),i.createElement(K,{config:c,graph:e.current.graph})))},O=M},14165:function(e,t,a){"use strict";var r=a(97406);class l{constructor(){if(this.eventMap=void 0,window&&window.EventBus)throw new Error("\u8fd9\u662f\u4e00\u4e2a\u5355\u4f8b\uff01");this.eventMap=new Map}dispatchEvent(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.eventMap.get(e.type);if(a){var l,n=(0,r.Z)(a.values());try{for(n.s();!(l=n.n()).done;){var o=l.value;o(e),t&&this.removeEventListener(e.type,o)}}catch(i){n.e(i)}finally{n.f()}}}addEventListener(e,t){var a=this.eventMap.get(e);if(a){var l,n=(0,r.Z)(a.values());try{for(n.s();!(l=n.n()).done;){var o=l.value;this.removeEventListener(e,o)}}catch(i){n.e(i)}finally{n.f()}a.add(t)}else a=new Set,a.add(t);this.eventMap.set(e,a)}removeEventListener(e,t){var a=this.eventMap.get(e);a&&a.delete(t)}}t["Z"]=new l}}]);